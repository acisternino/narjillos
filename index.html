<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Narjillos by nusco</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Narjillos</h1>
        <p class="header">Fun with evolution</p>

        <ul>
          <li><a class="buttons github" href="https://github.com/nusco/narjillos/wiki">Project Wiki</a></li>
        </ul>
        <ul>
          <li><a class="buttons github" href="https://github.com/nusco/narjillos">Source code</a></li>
        </ul>

        <p class="header">Maintained by <a class="header name" href="https://github.com/nusco">Nusco</a></p>

      </header>
      <section>
        <h1/></h1>
<p><img src="./doc/narjillos.jpg" alt="Take a peek"></p>

<p>Narjillos are artificial creatures that mutate and evolve in a virtual microscope dish, under the pressure of natural selection. They don't have any predefined strategy for "swimming", apart from swinging their bodies around in response to an external target. Yet, they tend to evolve good swimming behaviours over time.</p>

<p>To put a Petri dish full of narjillo eggs under your microscope, you need <a href="http://www.java.com/">Java 8</a>. Unzip the package somewhere, go to the directory where you unzipped it and run the <em>narjillos</em> script.
  
  <pre><code>./narjillos
</code></pre>

<p>(On Windows, it's just <em>narjillos</em>).</p>

<p>Now zoom in on an egg, and wait for it to hatch. It takes less than a minute.</p>

<h2>
<a id="how-to-control-the-microscope" class="anchor" href="#how-to-control-the-microscope" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to control the microscope</h2>

<p>Move around with your mouse: <strong>click anywhere</strong> to center, <strong>double-click</strong> to lock on a specific narjillo, and zoom in/out by <strong>scrolling</strong>. You can also move the microscope with your <strong>cursor keys</strong>.</p>

<p>To shift the speed up, press <strong>P</strong>. To shift it down, press <strong>O</strong>.</p>

<p>To turn the lamp on/off, press <strong>L</strong>. With the lamp off, high speed is faster (because the program doesn't need to render the creatures).</p>

<p>If you have trouble distinguishing the shapes of narjillos, try infrared light. It makes things more visible, though not as pretty as a regular lamp does. You can toggle infrared light by pressing <strong>I</strong>.</p>

<h2>
<a id="but-what-the-heck-are-these-things" class="anchor" href="#but-what-the-heck-are-these-things" aria-hidden="true"><span class="octicon octicon-link"></span></a>But what the heck are these things?</h2>

<p>There are three main ingredients to the Narjillos recipe: <em>phenotypic variation</em>, <em>selection</em> and <em>mutation</em>. They sound difficult, but you probably know about all three of them already. Let me tell how they work and what's their final result.</p>

<h3>
<a id="the-three-ingredients" class="anchor" href="#the-three-ingredients" aria-hidden="true"><span class="octicon octicon-link"></span></a>The three ingredients</h3>

<h4>
<a id="phenotypic-variation" class="anchor" href="#phenotypic-variation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Phenotypic variation</h4>

<p>When you start an experiment, the program generates a few hundreds eggs, containing different strands of DNA. Each DNA is a random sequence of bytes. Each byte is a "gene", and genes are collected into "chromosomes".</p>

<p>Inside the egg, each DNA strand goes through a process called "embryology", which generates the physical body of a baby narjillo. Each chromosome roughly generates a segment in the narjillo's body, and the genes in the chromosome dictate that segment's appearance and behavior: its color, size, angle, and so on.</p>

<p>The DNA is also called the <em>genotype</em>, and the physical body is also called the <em>phenotype</em> --- so you can say that "the genotype generates the phenotype". Identical genotypes always generate identical phenotypes. Similar genotypes tend to generate similar phenotypes. Very different genotypes tend to generate very different phenotypes.</p>

<p>All the eggs generated in the beginning are collected in a dish under your microscope. They soon hatch, giving birth to cute little baby narjillos. The babies are small in the beginning, but they keep growing until they reach their adult form. The dish is also filled with food --- the blue dots. More food keeps spawning slowly as the experiment goes on.</p>

<h4>
<a id="selection" class="anchor" href="#selection" aria-hidden="true"><span class="octicon octicon-link"></span></a>Selection</h4>

<p>Narjillos try to reach the food by swimming. You can look at their "mouths" (the thin green lines) to see which direction they're trying to go. Narjillos don't think --- they just oscillate mechanically in response to the direction of their target. These oscillations push them around in the dish.</p>

<p>Some narjillos are decent swimmers, but most are not. You'll see many who cannot even move, or tend to move in the opposite direction they're aiming at. Those who cannot reach food will eventually get exhausted and die.</p>

<p>Narjillos that are bigger or faster have the potential to move quicker, but they tend to consume more energy as they push their bodies around the dish. The maximum energy of a narjillo also decreases with age, so even narjillos who can't move will eventually lose energy and die.</p>

<p>Look at a narjillo's eye color to get a clue about its energy level. Fully healthy, energized narjillos have a bright green eye, that becomes darker as they get exhausted. Also, they become transparent once they're nearing death.</p>

<p>(A note for Artificial Life connoisseurs: narjillos have no "fitness function". The fitter narjillos are simply the ones that happen to be better at reaching food.)</p>

<h4>
<a id="mutation" class="anchor" href="#mutation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mutation</h4>

<p>Each time a narjillo eats a piece of food, its energy rises. If the energy is over a certain amount, the narjillo uses it to lay an egg that contains a full copy of the narjillo's own genotype. The egg hatches after a short while, giving birth to the phenotype --- a new baby narjillo.</p>

<p>However, here is a twist: when the parent's genotype is copied into the egg, random errors can happen. These errors (called "mutations") mean that, while the copy probably resembles the original, it also has a few differences --- which typically result in a child with slightly different body shape, movement style, or color.</p>

<p>A child can also gain entirely new chromosomes, or lose some of the chromosomes of its parent. This generally results in more, or fewer, segments in the child's body compared to the parent. However, the same old rule applies: the child's genotype is similar to the parent's genotype, so the child is going to resemble the parent. As grandma used to say, "the apple doesn't fall far from the tree".</p>

<p>Phenotypic variation, Selection, Mutation... done! Now that you know about the three ingredients, let's put them together.</p>

<h3>
<a id="the-circle-of-life" class="anchor" href="#the-circle-of-life" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Circle of Life</h3>

<p>Because of <strong>phenotypic variation</strong>, some narjllos are better swimmers than others. Because of <strong>selection</strong>, the better swimmers tend to survive longer and reproduce more often than the worse swimmers. Their offspring tend to be themselves good swimmers --- but because of <strong>mutation</strong>, they can be a little better, or worse, than their parents. The better offspring tend to survive longer and reproduce faster than the worse offspring, and the cycle continues: bad swimmers tend to go extinct, while better swimmers tend to prosper, and go on to generate children that are even better than themselves.</p>

<p>We have a single word to describe this entire process: <em>evolution</em>.</p>

<p>After a few tens of minutes of running an experiment (at high speed), you'll likely see one "family" of related narjillos emerge and slowly take over the pond, while less successful genotypes go extinct. As you keep the program running, possibly for a few hours, this dominating DNA strand will subtly mutate to generate bodies that are better and better at swimming.</p>

<p>The resulting creatures are neither a result of my design, nor emerging by blind luck. On the one hand, I didn't design the individual creatures - I just created the environment where their genes can evolve. On the other hand, you probably won't be able to generate good swimmers by shuffling genes randomly, as the program does on startup. There are literally more possible body plans than grain of sands in a desert - vastly more so - and only a few of them are good at swimming. This is neither a case of intelligent design, nor a case of blind luck. The narjillos are <em>evolving</em> their ability to swim well.</p>

<h2>
<a id="more" class="anchor" href="#more" aria-hidden="true"><span class="octicon octicon-link"></span></a>I Want to Know More!</h2>

For <a href="https://github.com/nusco/narjillos/wiki/Credits">credits</a>, <a href="https://github.com/nusco/narjillos/wiki/Advanced-Use">advanced use</a> and the like, go to the <a href="https://github.com/nusco/narjillos/wiki">wiki</a>.
<h2>
      </section>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-39758131-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
